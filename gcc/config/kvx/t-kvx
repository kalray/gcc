# Disable pedantic due to unwanted behavior of ISO C++11 with respect
# to variadic macros called with empty argument list.
kvx-builtins.o: $(srcdir)/config/kvx/kvx-builtins.cc $(CONFIG_H) \
  $(SYSTEM_H) coretypes.h $(TM_H) $(RTL_H) $(TREE_H) $(RECOG_H) langhooks.h \
  $(DIAGNOSTIC_CORE_H) $(OPTABS_H) $(srcdir)/config/kvx/kvx-modes.def
	$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \
	-Wno-pedantic $(srcdir)/config/kvx/kvx-builtins.cc

# $(out_object_file): ALL_COMPILERFLAGS += -Werror

CFLAGS-mkoffload.o += $(DRIVER_DEFINES) \
	-DGCC_INSTALL_NAME=\"$(GCC_INSTALL_NAME)\"
mkoffload.o: $(srcdir)/config/kvx/mkoffload.cc
	$(COMPILE) $<
	$(POSTCOMPILE)
ALL_HOST_OBJS += mkoffload.o

mkoffload$(exeext): mkoffload.o collect-utils.o libcommon-target.a \
		      $(LIBIBERTY) $(LIBDEPS)
	+$(LINKER) $(ALL_LINKERFLAGS) $(LDFLAGS) -o $@ \
	  mkoffload.o collect-utils.o libcommon-target.a $(LIBIBERTY) $(LIBS)
