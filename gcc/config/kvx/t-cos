TM_H += $(srcdir)/config/kvx/kvx-protos.h
PASSES_EXTRA += $(srcdir)/config/kvx/kvx-passes.def

kvx-prologue-stack-limit.o: $(srcdir)/config/kvx/kvx-prologue-stack-limit.cc
	$(COMPILE) $<
	$(COMPILE) $< -Wall -Wextra -Werror
	$(POSTCOMPILE)

kvx-shaker.o: $(srcdir)/config/kvx/kvx-shaker.c
	$(COMPILE) $< -Wall -Wextra -Werror
	$(POSTCOMPILE)

MULTILIB_EXTRA_OPTS = fdata-sections ffunction-sections
ifeq ($(BUILD_FOR_KV4),true)
MULTILIB_OPTIONS = m32 march=kv3-2 march=kv4-1
MULTILIB_DIRNAMES = 32 kv3-2 kv4-1
MULTILIB_EXCEPTIONS = *kv3-2/*kv4-1
else
MULTILIB_OPTIONS = m32 march=kv3-2
MULTILIB_DIRNAMES = 32 kv3-2
endif # BUILD_FOR_KV4